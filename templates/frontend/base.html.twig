<!DOCTYPE html>
<html lang="{{ app.request.locale }}">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}{{ project_title }}{% endblock %}</title>
        <link rel="icon" type="image/x-icon" href="{{ asset('favicon.ico') }}">
        {% block stylesheets %}
            <link rel="stylesheet" href="{{ asset('styles/app.css') }}">
        {% endblock %}
        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body class="h-full flex flex-col min-h-screen text-gray-900">
        {% include 'frontend/parts/header.html.twig' %}
        {% for label, messages in app.flashes %}
            {% for message in messages %}
                <div class="grid grid-cols-1 p-4 mx-auto">
                    {% set flash_color = 'bg-blue-100 text-blue-800 border border-blue-300' %}
                    {% if label == 'success' %}
                        {% set flash_color = 'bg-green-100 text-green-800 border border-green-300' %}
                    {% elseif label == 'error' %}
                        {% set flash_color = 'bg-red-100 text-red-800 border border-red-300' %}
                    {% elseif label == 'warning' %}
                        {% set flash_color = 'bg-yellow-100 text-yellow-800 border border-yellow-300' %}
                    {% endif %}
                    <div class="backdrop-blur-md {{ flash_color }} rounded-2xl p-5 flex gap-6 items-center">
                        <div class="flex-none">
                            <div class="w-6 h-6 rounded-xl flex items-center justify-center">
                                {{ ux_icon('bi:check', {'class': 'w-8 h-8'}) }}
                            </div>
                        </div>
                        <div class="flex-1">
                            <h1 class="text-lg">{{ message | trans }}</h1>
                        </div>
                    </div>
                </div>
            {% endfor %}
        {% endfor %}
        <div class="flex flex-1 min-h-0">
            <main class="flex-1 overflow-y-auto p-4 bg-white">
                {% block main %}{% endblock %}
            </main>
        </div>
        <footer class="bg-white px-4 py-2 text-center text-sm">
            {% block footer %}{% endblock %}
        </footer>
    </body>
</html>
